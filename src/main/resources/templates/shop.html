<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://mundana.bootmb.com/assets/js/vendor/jquery.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" type="javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" type="javascript"></script>
    <style>
        body{
            background: #e2edff;
        }
        .col{
            margin:1px;
            background: white;
        }
        p{
            display:inline-block;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="row" style="height: 300px">
        <div class="col">
            <div style="float: right">
                <img id="showImg" src="#">
            </div>
            <h1 id="shopName"></h1><br>
            <div id="information">
                <div id="star" style="display:inline-block"></div>

            </div>
            <div id="address">

            </div>
            <div id="openHours">

            </div>

        </div>
    </div>
    <div class="row">
        <div class="col">
            <div id="username">用户名</div>
            <div id="reply">用户评论</div>
            <div><img src="img/user/1/reply_img1.jpg" style="height: 100px;width: 100px"></div>
        </div>
        <div class="col">
            <div >用户名</div>
            <div >用户评论</div>
            <div><img src="img/user/1/reply_img1.jpg" style="height: 100px;width: 100px"></div>
        </div>
    </div>
</div>
<script>
    function getParameter(parName) {
        var str=parName.toLowerCase()+"=";
        var gvalue="";
        var HREF=location.href;
        var upperHREF=location.href.toLowerCase();
        if(upperHREF.indexOf(str)>0) {
            gvalue=HREF.substring(upperHREF.indexOf(str)+str.length,upperHREF.length);
            if(gvalue.indexOf('&')>0)gvalue=gvalue.substring(0,gvalue.indexOf('&'));
            if(gvalue.indexOf("#")>0)gvalue=gvalue.split("#")[0];
        }
        return gvalue;
    }
    $.ajax({
        type:"POST",
        url:"http://localhost:8080/shop/getShopAll",
        data:{id:getParameter("id")},
        success:function (result){
            $("#shopName").text(result[0]["name"])
            $("#showImg").attr("src",result[0]["img"])
            for (let i = 1;i <= parseInt(result[0]["score"]);i++){
                $("#star").append('<embed id="embedSvg" type="image/svg+xml" src="img/svg/star-fill.svg">');
            }
            $("#information").append("<p>"+result[0]["avgScore"]+"</p>")
            $("#information").append("<p style='margin-left: 50px'>销量："+result[0]["sold"]+"</p>")
            $("#address").append("地址："+result[0]["address"])
            $("#openHours").append("营业时间："+result[0]["open_hours"])
        }
    })

    $.ajax({
        type:"GET",
        url:"http://localhost:8080/comments/"+getParameter("id"),
        data:{id:getParameter("id")},
        success:function (result){
            console.log(result);
        }
    })
</script>
</body>
</html>
